{"ast":null,"code":"var _jsxFileName = \"/Users/jake/codeclan_work/capstone_project/spotify-react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport MapContainer from './containers/MapContainer';\nimport Player from './spotify_api_test/Player';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const CLIENT_ID = \"b1456a8b38284b83a4818759f42a75c3\";\n  const REDIRECT_URI = \"http://localhost:3000\";\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\n  const RESPONSE_TYPE = \"token\";\n  const [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem(\"token\");\n\n    if (!token && hash) {\n      token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n      window.location.hash = \"\";\n      window.localStorage.setItem(\"token\", token);\n    }\n\n    setToken(token);\n  }, []);\n\n  const logout = () => {\n    setToken(\"\");\n    window.localStorage.removeItem(\"token\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Spotify React\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), !token ? /*#__PURE__*/_jsxDEV(\"a\", {\n      href: `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`,\n      children: \"Login to Spotify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"spotify_api\", {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"uRWVyxPfKU3Lv5uAeNftFtP/ZvU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","MapContainer","Player","App","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","token","setToken","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","logout","removeItem"],"sources":["/Users/jake/codeclan_work/capstone_project/spotify-react/src/App.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\nimport MapContainer from './containers/MapContainer';\nimport Player from './spotify_api_test/Player';\n\n\nfunction App() {\n  const CLIENT_ID = \"b1456a8b38284b83a4818759f42a75c3\"\n  const REDIRECT_URI = \"http://localhost:3000\"\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\n  const RESPONSE_TYPE = \"token\"\n\n  const [token, setToken] = useState(\"\")\n\n  useEffect(() => {\n      const hash = window.location.hash\n      let token = window.localStorage.getItem(\"token\")\n\n      if (!token && hash) {\n          token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n          window.location.hash = \"\"\n          window.localStorage.setItem(\"token\", token)\n      }\n\n      setToken(token)\n\n  }, [])\n\n  const logout = () => {\n      setToken(\"\")\n      window.localStorage.removeItem(\"token\")\n  }\n\n  return (\n      <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>Spotify React</h1>\n            </header>\n              {!token ?\n                  <a href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`}>Login\n                      to Spotify</a>\n                  : <><button onClick={logout}>Logout</button>\n                  <MapContainer/>\n                  <spotify_api token={token}/>\n                  </>\n                }\n          \n      </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;;;AAGA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAMC,SAAS,GAAG,kCAAlB;EACA,MAAMC,YAAY,GAAG,uBAArB;EACA,MAAMC,aAAa,GAAG,wCAAtB;EACA,MAAMC,aAAa,GAAG,OAAtB;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EAEAD,SAAS,CAAC,MAAM;IACZ,MAAMW,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBF,IAA7B;IACA,IAAIF,KAAK,GAAGG,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ;;IAEA,IAAI,CAACN,KAAD,IAAUE,IAAd,EAAoB;MAChBF,KAAK,GAAGE,IAAI,CAACK,SAAL,CAAe,CAAf,EAAkBC,KAAlB,CAAwB,GAAxB,EAA6BC,IAA7B,CAAkCC,IAAI,IAAIA,IAAI,CAACC,UAAL,CAAgB,cAAhB,CAA1C,EAA2EH,KAA3E,CAAiF,GAAjF,EAAsF,CAAtF,CAAR;MAEAL,MAAM,CAACC,QAAP,CAAgBF,IAAhB,GAAuB,EAAvB;MACAC,MAAM,CAACE,YAAP,CAAoBO,OAApB,CAA4B,OAA5B,EAAqCZ,KAArC;IACH;;IAEDC,QAAQ,CAACD,KAAD,CAAR;EAEH,CAbQ,EAaN,EAbM,CAAT;;EAeA,MAAMa,MAAM,GAAG,MAAM;IACjBZ,QAAQ,CAAC,EAAD,CAAR;IACAE,MAAM,CAACE,YAAP,CAAoBS,UAApB,CAA+B,OAA/B;EACH,CAHD;;EAKA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA,wBACM;MAAQ,SAAS,EAAC,YAAlB;MAAA,uBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADN,EAIS,CAACd,KAAD,gBACG;MAAG,IAAI,EAAG,GAAEF,aAAc,cAAaF,SAAU,iBAAgBC,YAAa,kBAAiBE,aAAc,EAA7G;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADH,gBAGK;MAAA,wBAAE;QAAQ,OAAO,EAAEc,MAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAF,eACF,QAAC,YAAD;QAAA;QAAA;QAAA;MAAA,QADE,eAEF;QAAa,KAAK,EAAEb;MAApB;QAAA;QAAA;QAAA;MAAA,QAFE;IAAA,gBAPd;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgBD;;GA5CQL,G;;KAAAA,G;AA8CT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}